notifications:
  - id: f640e30c-e3f4-4e4f-b2ea-db7b8a080c1d
    type: google-chat
    data:
      url: >-
        https://chat.googleapis.com/v1/spaces/${spaces}/messages?key=${messages_key}
probes:
  - id: senin-1
    name: senin-pertama
    interval: 12
    requests:
      - url: https://${url}
        body:
          appointment_date: "2024-09-02"
          fungsi: ${fungsi}
          key: ${key}
          poli_id: ${poli_id}
          user_nm: ${user_nm}
        timeout: 200000
        method: POST
    incidentThreshold: 6
    recoveryThreshold: 3
    alerts:
      - assertion: response.status == 200 and response.headers['content-type'] == "text/html" and startsWith(response.body.status, "200") and response.body.pesan == "OK"
        message: |
          *senin 2 september*
          {{#if response.body.pesan}}{{response.body.pesan}}{{else}}${else}{{/if}}
          {{#each response.body.data}}`${time}{{consultationDay.start}}${quota}{{consultationDay.quota}}`
          {{/each}}
  - id: senin-2
    name: senin-kedua
    interval: 12
    requests:
      - url: https://${url}
        body:
          appointment_date: "2024-09-09"
          fungsi: ${fungsi}
          key: ${key}
          poli_id: ${poli_id}
          user_nm: ${user_nm}
        timeout: 200000
        method: POST
    incidentThreshold: 6
    recoveryThreshold: 3
    alerts:
      - assertion: response.status == 200 and response.headers['content-type'] == "text/html" and startsWith(response.body.status, "200") and response.body.pesan == "OK"
        message: |
          *senin 9 september*
          {{#if response.body.pesan}}{{response.body.pesan}}{{else}}${else}{{/if}}
          {{#each response.body.data}}`${time}{{consultationDay.start}}${quota}{{consultationDay.quota}}`
          {{/each}}
  - id: senin-3
    name: senin-ketiga
    interval: 12
    requests:
      - url: https://${url}
        body:
          appointment_date: "2024-09-16"
          fungsi: ${fungsi}
          key: ${key}
          poli_id: ${poli_id}
          user_nm: ${user_nm}
        timeout: 200000
        method: POST
    incidentThreshold: 6
    recoveryThreshold: 3
    alerts:
      - assertion: response.status == 200 and response.headers['content-type'] == "text/html" and startsWith(response.body.status, "200") and response.body.pesan == "OK"
        message: |
          *senin 16 september*
          {{#if response.body.pesan}}{{response.body.pesan}}{{else}}${else}{{/if}}
          {{#each response.body.data}}`${time}{{consultationDay.start}}${quota}{{consultationDay.quota}}`
          {{/each}}
  - id: senin-4
    name: senin-keempat
    interval: 12
    requests:
      - url: https://${url}
        body:
          appointment_date: "2024-09-23"
          fungsi: ${fungsi}
          key: ${key}
          poli_id: ${poli_id}
          user_nm: ${user_nm}
        timeout: 200000
        method: POST
    incidentThreshold: 6
    recoveryThreshold: 3
    alerts:
      - assertion: response.status == 200 and response.headers['content-type'] == "text/html" and startsWith(response.body.status, "200") and response.body.pesan == "OK"
        message: |
          *senin 23 september*
          {{#if response.body.pesan}}{{response.body.pesan}}{{else}}${else}{{/if}}
          {{#each response.body.data}}`${time}{{consultationDay.start}}${quota}{{consultationDay.quota}}`
          {{/each}}
  - id: senin-5
    name: senin-kelima
    interval: 12
    requests:
      - url: https://${url}
        body:
          appointment_date: "2024-09-30"
          fungsi: ${fungsi}
          key: ${key}
          poli_id: ${poli_id}
          user_nm: ${user_nm}
        timeout: 200000
        method: POST
    incidentThreshold: 6
    recoveryThreshold: 3
    alerts:
      - assertion: response.status == 200 and response.headers['content-type'] == "text/html" and startsWith(response.body.status, "200") and response.body.pesan == "OK"
        message: |
          *senin 30 september*
          {{#if response.body.pesan}}{{response.body.pesan}}{{else}}${else}{{/if}}
          {{#each response.body.data}}`${time}{{consultationDay.start}}${quota}{{consultationDay.quota}}`
          {{/each}}

  - id: selasa-1
    name: selasa-pertama
    interval: 12
    requests:
      - url: https://${url}
        body:
          appointment_date: "2024-09-03"
          fungsi: ${fungsi}
          key: ${key}
          poli_id: ${poli_id}
          user_nm: ${user_nm}
        timeout: 200000
        method: POST
    incidentThreshold: 6
    recoveryThreshold: 3
    alerts:
      - assertion: response.status == 200 and response.headers['content-type'] == "text/html" and startsWith(response.body.status, "200") and response.body.pesan == "OK"
        message: |
          *selasa 3 september*
          {{#if response.body.pesan}}{{response.body.pesan}}{{else}}${else}{{/if}}
          {{#each response.body.data}}`${time}{{consultationDay.start}}${quota}{{consultationDay.quota}}`
          {{/each}}
  - id: selasa-2
    name: selasa-kedua
    interval: 12
    requests:
      - url: https://${url}
        body:
          appointment_date: "2024-09-10"
          fungsi: ${fungsi}
          key: ${key}
          poli_id: ${poli_id}
          user_nm: ${user_nm}
        timeout: 200000
        method: POST
    incidentThreshold: 6
    recoveryThreshold: 3
    alerts:
      - assertion: response.status == 200 and response.headers['content-type'] == "text/html" and startsWith(response.body.status, "200") and response.body.pesan == "OK"
        message: |
          *selasa 10 september*
          {{#if response.body.pesan}}{{response.body.pesan}}{{else}}${else}{{/if}}
          {{#each response.body.data}}`${time}{{consultationDay.start}}${quota}{{consultationDay.quota}}`
          {{/each}}
  - id: selasa-3
    name: selasa-ketiga
    interval: 12
    requests:
      - url: https://${url}
        body:
          appointment_date: "2024-09-17"
          fungsi: ${fungsi}
          key: ${key}
          poli_id: ${poli_id}
          user_nm: ${user_nm}
        timeout: 200000
        method: POST
    incidentThreshold: 6
    recoveryThreshold: 3
    alerts:
      - assertion: response.status == 200 and response.headers['content-type'] == "text/html" and startsWith(response.body.status, "200") and response.body.pesan == "OK"
        message: |
          *selasa 17 september*
          {{#if response.body.pesan}}{{response.body.pesan}}{{else}}${else}{{/if}}
          {{#each response.body.data}}`${time}{{consultationDay.start}}${quota}{{consultationDay.quota}}`
          {{/each}}
  - id: selasa-4
    name: selasa-keempat
    interval: 12
    requests:
      - url: https://${url}
        body:
          appointment_date: "2024-09-24"
          fungsi: ${fungsi}
          key: ${key}
          poli_id: ${poli_id}
          user_nm: ${user_nm}
        timeout: 200000
        method: POST
    incidentThreshold: 6
    recoveryThreshold: 3
    alerts:
      - assertion: response.status == 200 and response.headers['content-type'] == "text/html" and startsWith(response.body.status, "200") and response.body.pesan == "OK"
        message: |
          *selasa 24 september*
          {{#if response.body.pesan}}{{response.body.pesan}}{{else}}${else}{{/if}}
          {{#each response.body.data}}`${time}{{consultationDay.start}}${quota}{{consultationDay.quota}}`
          {{/each}}

  - id: rabu-1
    name: rabu-pertama
    interval: 12
    requests:
      - url: https://${url}
        body:
          appointment_date: "2024-09-04"
          fungsi: ${fungsi}
          key: ${key}
          poli_id: ${poli_id}
          user_nm: ${user_nm}
        timeout: 200000
        method: POST
    incidentThreshold: 6
    recoveryThreshold: 3
    alerts:
      - assertion: response.status == 200 and response.headers['content-type'] == "text/html" and startsWith(response.body.status, "200") and response.body.pesan == "OK"
        message: |
          *rabu 4 september*
          {{#if response.body.pesan}}{{response.body.pesan}}{{else}}${else}{{/if}}
          {{#each response.body.data}}`${time}{{consultationDay.start}}${quota}{{consultationDay.quota}}`
          {{/each}}
  - id: rabu-2
    name: rabu-kedua
    interval: 12
    requests:
      - url: https://${url}
        body:
          appointment_date: "2024-09-11"
          fungsi: ${fungsi}
          key: ${key}
          poli_id: ${poli_id}
          user_nm: ${user_nm}
        timeout: 200000
        method: POST
    incidentThreshold: 6
    recoveryThreshold: 3
    alerts:
      - assertion: response.status == 200 and response.headers['content-type'] == "text/html" and startsWith(response.body.status, "200") and response.body.pesan == "OK"
        message: |
          *rabu 11 september*
          {{#if response.body.pesan}}{{response.body.pesan}}{{else}}${else}{{/if}}
          {{#each response.body.data}}`${time}{{consultationDay.start}}${quota}{{consultationDay.quota}}`
          {{/each}}
  - id: rabu-3
    name: rabu-ketiga
    interval: 12
    requests:
      - url: https://${url}
        body:
          appointment_date: "2024-09-18"
          fungsi: ${fungsi}
          key: ${key}
          poli_id: ${poli_id}
          user_nm: ${user_nm}
        timeout: 200000
        method: POST
    incidentThreshold: 6
    recoveryThreshold: 3
    alerts:
      - assertion: response.status == 200 and response.headers['content-type'] == "text/html" and startsWith(response.body.status, "200") and response.body.pesan == "OK"
        message: |
          *rabu 18 september*
          {{#if response.body.pesan}}{{response.body.pesan}}{{else}}${else}{{/if}}
          {{#each response.body.data}}`${time}{{consultationDay.start}}${quota}{{consultationDay.quota}}`
          {{/each}}
  - id: rabu-4
    name: rabu-keempat
    interval: 12
    requests:
      - url: https://${url}
        body:
          appointment_date: "2024-09-25"
          fungsi: ${fungsi}
          key: ${key}
          poli_id: ${poli_id}
          user_nm: ${user_nm}
        timeout: 200000
        method: POST
    incidentThreshold: 6
    recoveryThreshold: 3
    alerts:
      - assertion: response.status == 200 and response.headers['content-type'] == "text/html" and startsWith(response.body.status, "200") and response.body.pesan == "OK"
        message: |
          *rabu 25 september*
          {{#if response.body.pesan}}{{response.body.pesan}}{{else}}${else}{{/if}}
          {{#each response.body.data}}`${time}{{consultationDay.start}}${quota}{{consultationDay.quota}}`
          {{/each}}
